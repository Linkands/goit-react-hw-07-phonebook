{"ast":null,"code":"import _slicedToArray from\"/Users/andres/Documents/GitHub/goit-react-hw-07-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Phonebook from'./components/Phonebook/Phonebook';import Contacts from'./components/Contacts/Contacts';import Filter from'./components/Filter/Filter';import{v4 as uuidv4}from'uuid';import{useDispatch,useSelector}from'react-redux';import*as contactsOperations from'./redux/operations/contacts-operations';import*as contactsActions from'./redux/actions/contacts-actions';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var contactsItems=useSelector(function(state){return state.contacts.items;});var filterItems=useSelector(function(state){return state.contacts.filter;});var dispatch=useDispatch();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),number=_useState4[0],setNumber=_useState4[1];useEffect(function(){dispatch(contactsOperations.fetchContacts());},[dispatch]);var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;switch(name){case'name':setName(value);break;case'number':setNumber(value);break;case'filter':dispatch(contactsActions.changeFilter(value));break;default:break;}};var handleSubmit=function handleSubmit(e){e.preventDefault();var randomId=uuidv4();if(contactsItems.find(function(contact){return contact.name.toLowerCase()===name.toLowerCase();})){return alert(\"\".concat(name,\" already exists in your contacts\"));}dispatch(contactsOperations.addContact({id:randomId,name:name,number:number}));eraseInputs();};var eraseInputs=function eraseInputs(){setName('');setNumber('');};var removeContact=function removeContact(id){dispatch(contactsOperations.deleteContact(id));};var visibleContacts=function visibleContacts(){var normalizedFilter=filterItems.toLowerCase();return contactsItems.filter(function(contact){return contact.name.toLowerCase().includes(normalizedFilter);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Phonebook,{onSubmit:handleSubmit,onChange:handleChange,name:name,number:number}),contactsItems.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Filter,{filter:filterItems,onChange:handleChange}),/*#__PURE__*/_jsx(Contacts,{contactsData:visibleContacts(),onDeleteContact:removeContact})]})]});}export default App;","map":{"version":3,"sources":["/Users/andres/Documents/GitHub/goit-react-hw-07-phonebook/src/App.jsx"],"names":["React","useState","useEffect","Phonebook","Contacts","Filter","v4","uuidv4","useDispatch","useSelector","contactsOperations","contactsActions","App","contactsItems","state","contacts","items","filterItems","filter","dispatch","name","setName","number","setNumber","fetchContacts","handleChange","e","target","value","changeFilter","handleSubmit","preventDefault","randomId","find","contact","toLowerCase","alert","addContact","id","eraseInputs","removeContact","deleteContact","visibleContacts","normalizedFilter","includes","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport Phonebook from './components/Phonebook/Phonebook'\nimport Contacts from './components/Contacts/Contacts'\nimport Filter from './components/Filter/Filter'\nimport { v4 as uuidv4 } from 'uuid'\nimport { useDispatch, useSelector } from 'react-redux'\nimport * as contactsOperations from './redux/operations/contacts-operations'\nimport * as contactsActions from './redux/actions/contacts-actions'\n\nfunction App() {\n  const contactsItems = useSelector((state) => state.contacts.items)\n  const filterItems = useSelector((state) => state.contacts.filter)\n  const dispatch = useDispatch()\n\n  const [name, setName] = useState('')\n  const [number, setNumber] = useState('')\n\n  useEffect(() => {\n    dispatch(contactsOperations.fetchContacts())\n  }, [dispatch])\n\n  const handleChange = (e) => {\n    const { name, value } = e.target\n    switch (name) {\n      case 'name':\n        setName(value)\n        break\n      case 'number':\n        setNumber(value)\n        break\n      case 'filter':\n        dispatch(contactsActions.changeFilter(value))\n        break\n\n      default:\n        break\n    }\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    const randomId = uuidv4()\n    if (\n      contactsItems.find(\n        (contact) => contact.name.toLowerCase() === name.toLowerCase(),\n      )\n    ) {\n      return alert(`${name} already exists in your contacts`)\n    }\n    dispatch(contactsOperations.addContact({ id: randomId, name, number }))\n    eraseInputs()\n  }\n\n  const eraseInputs = () => {\n    setName('')\n    setNumber('')\n  }\n\n  const removeContact = (id) => {\n    dispatch(contactsOperations.deleteContact(id))\n  }\n\n  const visibleContacts = () => {\n    const normalizedFilter = filterItems.toLowerCase()\n    return contactsItems.filter((contact) =>\n      contact.name.toLowerCase().includes(normalizedFilter),\n    )\n  }\n\n  return (\n    <div>\n      <Phonebook\n        onSubmit={handleSubmit}\n        onChange={handleChange}\n        name={name}\n        number={number}\n      ></Phonebook>\n      {contactsItems.length > 0 && (\n        <>\n          <Filter filter={filterItems} onChange={handleChange}></Filter>\n          <Contacts\n            contactsData={visibleContacts()}\n            onDeleteContact={removeContact}\n          ></Contacts>\n        </>\n      )}\n    </div>\n  )\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}